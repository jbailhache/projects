<html>
<head>
<title>Proof Logic extensions</title>
</head>
<body>
<h2>Proof Logic extensions</h2>

Terms of <a href="pls.html">Proof Logic</a> are proofs. A proof x proves an equality a = b, where a = left(x) and b = right(x), and a and b are also proofs.
<!-- This may also be written x |- a = b.-->
The basic operators of the initial version of Proof Logic are defined by the left and right sides of the equality proved by a proof built with these operators :

<ul>
<li> If x is a symbol or the variable "*", then left(x) = x and right(x) = x, which means that x proves x = x.
<li> left('x) = 'left(x) ; right('x) = 'right(x)
<li> left([x]) = [left(x)] ; right([x]) = [right(x)]
<li> left(x y) = left(x) left(y) ; right(x y) = right(x) right(y), which means that if x proves a = b and y proves c = d then x y proves a c = b d.
<li> left({x,y}) = right(x) and right({x,y}) = right(y) if left(x) and left(y) reduce to a same term, otherwise left({x,y}) = right({x,y}) = {x,y}
<li> left(a=b) = a ; right(a=b) = b
</ul>

These operators (except the last one which expresses the axiom a=b) can be seen as logical rules, where x proves a = b and y proves c = d :

<ul>
<li> s : |- s = s ; * : |- * = *
<li> ' : a = b |- 'a = 'b
<li> [] : a = b |- [a] = [b] 
<li> () : a = b, c = d |- a c = b d
<li> {,} : a = b, c = d, red(a) = red(c) |- b = d
</ul>

The operator {,} introduces a dissymetry between left and right sides of equalities.
We can extend the theory by adding the symmetric operator written &lt;|> and defined by :

<ul>
<li> left(&lt;x|y>) = left(x) and right(&lt;x,y>) = left(y) if right(x) and right(y) reduce to the same term, otherwise left(&lt;x|y>) = right(&lt;x|y>) = &lt;x|y>
</ul>

It corresponds to the logical rule :

<ul>
<li> &lt;|> : a = b, c = d, red(b) = red(d) |- a = c
</ul>

It can be defined from {,} : &lt;x|y> = { {x,left(x)}, {y,left(y)} }.<br>
Suppose we have x proves a = b, y proves c = d, red(b) = red(d).
Then left(x) proves a = a, {x,left(x)} proves b = a.
And left(y) proves c = c, {y,left(y)} proves d = c.
Then { {x,left(x)}, {y,left(y)} } proves a = c since red(b) = red(d).

<p>

The operator "@" can also be introduced to implement definitions of the form "let name = definition in proof".
It is not necessary but useful to write proofs more easily.
It is defined by :

<ul>
<li> left(@x) = left(red(x)) ; right(@x) = right(red(x))
</ul>

The operator "@" is more difficult to express in terms of logical rules because the definition of left(@x) and right(@x) does not involve left(x) and right(x). Perhaps we could write something like :

<ul>
<li> @ : x |- left(red(x)) = right(red(x))
</ul>

These basic operators can be composed to define new operators.

For example, we can define operators LFT and RGT by :

<ul>
<li> left(LFT x) = left x ; right(LFT x) = left x
<li> left(RGT x) = right(x) ; right(RGT x) = right x
</ul>

corresponding to the logical rules :
<ul>
<li> LFT : a = b |- a = a
<li> RGT : a = b |- b = b
</ul>

These operators can obviously be defined by :
<ul>
<li> LFT x = &lt;x|x>
<li> RGT x = {x,x}
</ul>

We can define an operator associated to the symmetry rule :
<ul>
<li> SYM : a = b |- b = a
</ul>

This operator is defined by :
<ul>
<li> left(SYM x) = right(x) 
<li> right(SYM x) = left(x)
</ul>

It can be defined by a combination of {,} and LFT, or of &lt;|> and RGT :
<ul>
<li> SYM x = {x,LFT x} = &lt;RGT x|x>
</ul>

The transitivity rule is :
<ul>
<li> TRN : a = b, b = c |- a = c
</ul>

The corresponding operator is defined by :
<ul>
<li> if right(x) = left(y) then left(TRN x y) = left(x) and right(TRN x y) = right(y)
</ul>

It can be defined by a combination of {,} or &lt;|>, and SYM :
<ul>
<li> TRN x y = {SYM x,y} = &lt;x|SYM y>
</ul>

We can say that if a = b, then red(a) = b. This is formalized by the RDL rule :
<ul>
<li> RDL : a = b |- red(a) = b
</ul>

The corresponding operator is defined by :
<ul>
<li> left(RDL x) = red(left(x))
<li> right(RDL x) = right(x)
</ul>

It can also be defined by a combination of {,}, @ and LFT :
<ul>
<li> RDL x = {@(LFT x),x}
</ul>

The symmetric rule is :
<ul>
<li> RDR : a = b |- a = red(b)
</ul>

The corresponding operator is defined by :
<ul>
<li> left(RDR x) = left(x)
<li> right(RDR x) = red(right(x))
</ul>

It can also be defined by a combination of &lt;|>, @ and RGT :
<ul>
<li> RDR x = &lt;x|@(RGT x)>
</ul>

RDL can also be defined from RDR and reciprocally :
<ul>
<li> RDL x = SYM (RDR (SYM x))
<li> RDR x = SYM (RDL (SYM x))
</ul>

We can also reduce both left and right sides :
<ul>
<li> RDB : a = b |- red(a) = red(b)
</ul>

The corresponding operator is defined by :
<ul>
<li> left(RDB x) = red(left(x))
<li> right(RDB x) = red(right(x))
</ul>

It can be defined by a combination of RDL or RDR, and SYM :
<ul>
<li> RDB x = SYM (RDL (SYM (RDL x)))
<li> RDB x = RDL (SYM (RDL (SYM x)))
<li> RDB x = SYM (RDR (SYM (RDR x)))
<li> RDB x = RDR (SYM (RDR (SYM x)))
</ul>

A rule can also be introduced to do the substitution in application of a function to an argument :
<ul>
<li> SUB : a = b, c = d |- [a] c = subst(*,b,d)
</ul>

The corresponding operator is defined by :
<ul>
<li> left(SUB x y) = [left(x)] left(y)
<li> right(SUB x y) = subst(*,right(x),right(y))
</ul>

</body>
</html>
